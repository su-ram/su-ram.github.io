<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Dockerfile RUN, CMD, ENTRYPOINT 명령어 차이점" /><meta property="og:locale" content="en" /><meta name="description" content="Dockerfile 명령어 속성" /><meta property="og:description" content="Dockerfile 명령어 속성" /><link rel="canonical" href="https://su-ram.github.io/posts/Dockerfile-RUN,-CMD,-ENTRYPOINT-%EC%B0%A8%EC%9D%B4%EC%A0%90/" /><meta property="og:url" content="https://su-ram.github.io/posts/Dockerfile-RUN,-CMD,-ENTRYPOINT-%EC%B0%A8%EC%9D%B4%EC%A0%90/" /><meta property="og:site_name" content="수람" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-08-14T00:00:00+09:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Dockerfile RUN, CMD, ENTRYPOINT 명령어 차이점" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-01-14T00:24:45+09:00","datePublished":"2022-08-14T00:00:00+09:00","description":"Dockerfile 명령어 속성","headline":"Dockerfile RUN, CMD, ENTRYPOINT 명령어 차이점","mainEntityOfPage":{"@type":"WebPage","@id":"https://su-ram.github.io/posts/Dockerfile-RUN,-CMD,-ENTRYPOINT-%EC%B0%A8%EC%9D%B4%EC%A0%90/"},"url":"https://su-ram.github.io/posts/Dockerfile-RUN,-CMD,-ENTRYPOINT-%EC%B0%A8%EC%9D%B4%EC%A0%90/"}</script><title>Dockerfile | RUN, CMD, ENTRYPOINT 명령어 차이점 | 수람</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="수람"><meta name="application-name" content="수람"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" https://user-images.githubusercontent.com/20367043/152596024-2ecc856c-2fb3-45fc-ac0f-4ce137eead05.gif " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">수람</a></div><div class="site-subtitle font-italic">dev study blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/su-ram" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/twitter_username" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['swamys','naver.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Dockerfile | RUN, CMD, ENTRYPOINT 명령어 차이점</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Dockerfile | RUN, CMD, ENTRYPOINT 명령어 차이점</h1><div class="post-meta text-muted"><div> By <em> <a href="https://github.com/su-ram">suram kim</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1660402800" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-08-14 </em> </span> <span> Updated <em class="timeago" data-ts="1673623485" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2023-01-14 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1807 words"> <em>10 min</em> read</span></div></div></div><div class="post-content"><h1 id="dockerfile-명령어-속성">Dockerfile 명령어 속성</h1><ul><li><code class="language-plaintext highlighter-rouge">RUN</code><li><code class="language-plaintext highlighter-rouge">CMD</code><li><code class="language-plaintext highlighter-rouge">ENTRYPOINT</code></ul><p>도커파일을 작성할 때 명령어를 지시할 수 있는 3가지 속성이 있다. 3가지의 실행 시점과 차이점을 잘 알아야 도커파일을 잘 사용할 수 있다. (나처럼 삽질 안 하고…)</p><h3 id="0-intro"><span class="mr-2">0. Intro</span><a href="#0-intro" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><div class="language-Dockerfile highlighter-rouge"><div class="code-header"> <span data-label-text="Dockerfile"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre><span class="k">FROM</span><span class="s"> node:16-alpine as builder</span>
<span class="k">WORKDIR</span><span class="s"> /app</span>
<span class="k">COPY</span><span class="s"> package.json .</span>
<span class="k">COPY</span><span class="s"> yarn.lock .</span>
<span class="k">RUN </span>yarn
<span class="k">COPY</span><span class="s"> . .</span>
<span class="k">EXPOSE</span><span class="s"> 8080</span>
<span class="k">CMD</span><span class="s"> [ "yarn", "build" ]</span>

<span class="k">FROM</span><span class="s"> nginx:stable-alpine as production</span>
<span class="k">RUN </span><span class="nb">rm</span> <span class="nt">-rf</span> /usr/share/nginx/html/<span class="k">*</span>
<span class="k">COPY</span><span class="s"> --from=builder /app/dist /usr/share/nginx/html</span>
<span class="k">EXPOSE</span><span class="s"> 80 </span>
<span class="k">CMD</span><span class="s"> ["nginx", "-g", "daemon off;"]</span>

</pre></table></code></div></div><blockquote><p>Q. 이 도커파일에서 틀린 곳을 찾아보시오.</p></blockquote><blockquote><p>A. ???</p></blockquote><h3 id="1-내가-의도한-도커파일은"><span class="mr-2">1. 내가 의도한 도커파일은</span><a href="#1-내가-의도한-도커파일은" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ol><li>yarn으로 의존성들을 설치하고 이를 /app/dist 폴더 밑에 빌드한다.<li>빌드된 산출물들을 nginx로 서빙하기 위해 하위 파일들을 복사 붙여넣기 한다.<li>nginx 실행</ol><p>으로 아주 간단한 nodejs 앱 기반의 빌드 - 배포 시나리오이다. 기존에는 프론트 앱의 publicPath = <code class="language-plaintext highlighter-rouge">~/repository_name/</code> 이렇게 설정을 한 상태였다. 굳이 그럴 필요가 없을 것 같아서 해당 설정을 지우고 (vue.config.js파일) 다시 동일한 도커 파일을 이용해 도커 이미지를 빌드해주었다. 빌드한 이미지를 실행하고 해당 url을 확인해보니 여전히 default로 모든 요청 파일에 <code class="language-plaintext highlighter-rouge">~/repository_name/</code>이 붙어 있었다. 즉, 수정 사항이 반영 안 되었다는 얘기다.</p><p>정확한 에러는 다음과 같다.</p><div class="language-html highlighter-rouge"><div class="code-header"> <span data-label-text="HTML"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nt">&lt;noscript&gt;</span>
      <span class="nt">&lt;strong&gt;</span>We're sorry but #myappname@ doesn't work properly without JavaScript enabled. Please enable it to continue.<span class="nt">&lt;/strong&gt;</span>
<span class="nt">&lt;/noscript&gt;</span>
</pre></table></code></div></div><p>빌드가 정상적으로 되었으나, default 호출 url로 prefix에 <code class="language-plaintext highlighter-rouge">~/repository_name/</code>이 붙어서 나는 안내 메세지였다. 즉 호출을 잘못하고 있다는 뜻이다.</p><p>이를 해결하기 위해 해본 삽질</p><ul><li>publicPath 설정 바꿔줌 : 효과 x<li>vue 인스턴스를 초기화하는 방식 변경 : 효과 x<li>콘솔에 나오는 경고 메세지 관련한 코드 찾아서 수정 : 효과 x<li>포트 변경 : 효과 x<li>nginx의 html 하위 파일 모두 삭제 후 다시 도커 빌드 : 효과 x</ul><p>사실 핵심은 첫번째인데. publicPath 설정을 바꿔준 수정 사항이 당최 도커 이미지에 반영이 안되는 것으로 생각하고 도커파일 관련해서 다시 찾아보던 중…. <strong>CMD는 도커 파일 내에서 한 번만 실행된다는 것을 알았다. 중복해서 쓰였을 경우 가장 마지막이 실제로 호출된다는 것이었다.</strong></p><p>저 위에 도커 파일에서 잘못된 점은</p><div class="language-Dockerfile highlighter-rouge"><div class="code-header"> <span data-label-text="Dockerfile"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">CMD</span><span class="s"> [ "yarn", "build" ]</span>
<span class="k">CMD</span><span class="s"> ["nginx", "-g", "daemon off;"]</span>
</pre></table></code></div></div><p>이 부분으로 CMD를 두 번 작성하여 아래의 CMD문이 반영된 것이다. 즉 코드를 백만번 수정해도 실제로는 빌드를 하지 않은 셈이다. 그래서 반영이 안되었던 것이다.</p><h3 id="2-차이점"><span class="mr-2">2. 차이점</span><a href="#2-차이점" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>RUN과 CMD 모두 명령어겠지~ 라고 생각하고 두 개의 차이점을 인지하지 못하고 작성했던 것이 문제였다. 찾아보니 관련된 속성으로 ENTRYPOINT라는 녀석까지 하나 더 있다고 한다.</p><p>핵심은 3가지 구문 모두 <strong>실행시점</strong>이 각자 다르다는 것!</p><p><strong>RUN</strong></p><ul><li>실행시점 : docker image가 빌드되는 동안</ul><p>도커 엔진이 도커 파일을 한 줄 한 줄 읽으면서 이미지를 빌드할 때 실행된다.</p><p><strong>CMD</strong></p><ul><li>실행시점 : 빌드가 완료되고 해당 이미지가 실행될 때 (시작)</ul><p>빌드되는 동안에 실행되는 것이 아니라, 실제로 이미지가 실행되기 시작할때 CMD 구문이 실행된다. 그리고 docker run 명령에 인자값으로 넘겨서 사용할 수도 있다.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>docker run <span class="o">{</span>image<span class="o">}</span> <span class="o">{</span>cmd_command<span class="o">}</span>
</pre></table></code></div></div><p>이런 경우에는 이미 dockerfile에 정의된 cmd 구문은 실행되지 않고 docker run에 인자값으로 넘긴 cmd 구문이 실행된다.</p><blockquote><p><a href="https://docs.docker.com/engine/reference/builder/#cmd">도커 공식 문서 중 CMD 관련 부분</a></p><p>Do not confuse RUN with CMD. RUN actually runs a command and commits the result; CMD does not execute anything at build time, but specifies the intended command for the image. =&gt; Run과 CDM를 헷갈리지말 것. Run은 명령구문을 실행하고 결과물을 저장한다. (= 이미지를 빌드한다는 뜻) CMD는 빌드 타임에는 아무것도 실행되지 않는다. 그러나 특정 커맨드를 의도대로 지정할 수 있다. (=동일 이미지에 가변적으로 명령어를 지정할 수 있다는 뜻)</p></blockquote><p><strong>ENTRYPOINT</strong></p><ul><li>실행시점 : CMD랑 같다</ul><p>그럼 CMD와의 차이점은 docker run으로 CMD의 내용을 상황에 따라 바꿀 수 있는 것과 달리, 항상 실행된다는 점이다. 즉 dockerfile 내에서 정의한 ENTRYPOINT는 해당 컨테이너 실행시에 변경할 수 없다.</p><blockquote><p><a href="https://docs.docker.com/engine/reference/builder/#understand-how-cmd-and-entrypoint-interact">도커 공식 문서 중 CMD와 ENTRYPOINT 차이점 부분</a></p><ol><li>도커파일은 최소한 한 개의 CMD 혹은 ENTRYPOINT가 있어야 한다.<li>ENTRYPOINT는 컨테이너를 실행파일로 사용할 때 정의해야 한다.<li>CMD는 ENTRYPOINT의 default 값으로 지정하는 방식으로 사용해야 한다.<li>CMD는 컨테이너를 실행할 때 다시 정의할 수 있다.</ol></blockquote><h3 id="3-요약"><span class="mr-2">3. 요약</span><a href="#3-요약" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><ul><li>이미지가 빌드 되는 동안에는 RUN<li>이미지가 실행될 때, 가변적으로 실행되어야 할 때는 CMD<li>이미지가 실행될 때, 항상 똑같이 실행되어야 할 때는 ENTRYPOINT</ul><h3 id="4-그래서"><span class="mr-2">4. 그래서</span><a href="#4-그래서" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><blockquote><p>Q. 이 도커파일에서 틀린 곳을 찾아보시오.</p></blockquote><blockquote><p>A. 답은</p></blockquote><div class="language-Dockerfile highlighter-rouge"><div class="code-header"> <span data-label-text="Dockerfile"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="k">FROM</span><span class="s"> node:16-alpine as builder</span>
<span class="k">WORKDIR</span><span class="s"> /app</span>
<span class="k">COPY</span><span class="s"> package.json .</span>
<span class="k">COPY</span><span class="s"> yarn.lock .</span>
<span class="k">RUN </span>yarn
<span class="k">COPY</span><span class="s"> . .</span>
<span class="k">EXPOSE</span><span class="s"> 8080</span>
<span class="c"># CMD [ "yarn", "build" ] CMD가 아니라, RUN으로 바꿔야 한다.</span>
<span class="k">RUN </span>yarn build 

<span class="k">FROM</span><span class="s"> nginx:stable-alpine as production</span>
<span class="k">RUN </span><span class="nb">rm</span> <span class="nt">-rf</span> /usr/share/nginx/html/<span class="k">*</span>
<span class="k">COPY</span><span class="s"> --from=builder /app/dist /usr/share/nginx/html</span>
<span class="k">EXPOSE</span><span class="s"> 80 </span>
<span class="k">CMD</span><span class="s"> ["nginx", "-g", "daemon off;"]</span>

</pre></table></code></div></div><p>CMD가 두 번 사용되었기 때문에 빌드가 안 되고 있었던 상황이다. 빌드라는 것은 이미지가 실행되기 전에 이미 완료되어야하는 작업이므로 빌드 중일 때 실행되는 명령어인 RUN을 사용하는 것이 맞다.</p><h3 id="5-shell-form-exec-form"><span class="mr-2">5. Shell form, Exec form</span><a href="#5-shell-form-exec-form" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p>run, cmd, entrypoint 모두 2가지 form을 지원하고 있다. 배열로 전달하는 여부에 따라 달라진다.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>RUN yarn build // shell form 
RUN ["yarn", "build"] // exec form 
</pre></table></code></div></div><p>배열로 사용할 것을 권장하고 있다. 작성한 구문을 도커 엔진이 읽을 때 과정을 한 단계 거치지 않아서 더 깔끔하다는 것…이라고 이해했다.</p><p>또한 exec form 으로 사용할 시에는 double quote <code class="language-plaintext highlighter-rouge">""</code> 을 사용해야 한다. JSON형식으로 명령어들을 파싱하기 때문이라고 한다.</p><h3 id="6-나머지-공부"><span class="mr-2">6. 나머지 공부</span><a href="#6-나머지-공부" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3></h3><p><a href="https://docs.docker.com/engine/reference/builder/">정리하면 도커파일 문법을 잘 몰라서 생긴 문제.</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/docker/'>docker</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/docker/" class="post-tag no-text-decoration" >docker</a> <a href="/tags/devops/" class="post-tag no-text-decoration" >devops</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Dockerfile | RUN, CMD, ENTRYPOINT 명령어 차이점 - 수람&amp;url=https://su-ram.github.io/posts/Dockerfile-RUN,-CMD,-ENTRYPOINT-%EC%B0%A8%EC%9D%B4%EC%A0%90/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Dockerfile | RUN, CMD, ENTRYPOINT 명령어 차이점 - 수람&amp;u=https://su-ram.github.io/posts/Dockerfile-RUN,-CMD,-ENTRYPOINT-%EC%B0%A8%EC%9D%B4%EC%A0%90/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://su-ram.github.io/posts/Dockerfile-RUN,-CMD,-ENTRYPOINT-%EC%B0%A8%EC%9D%B4%EC%A0%90/&amp;text=Dockerfile | RUN, CMD, ENTRYPOINT 명령어 차이점 - 수람" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/Leetcode-2619-Array-Prototype-Last/">Leetcode | 2619. Array Prototype Last, 2620. Counter</a><li><a href="/posts/vue-useStore/">Vue | useStore()를 사용하는 이유</a><li><a href="/posts/JS-%EB%B3%80%EC%88%98-%EC%9C%A0%ED%9A%A8%EB%B2%94%EC%9C%84/">JS | scoping 유효범위</a><li><a href="/posts/JS-%ED%98%B8%EC%9D%B4%EC%8A%A4%ED%8C%85/">JS | 선언과 할당 관점에서 본 호이스팅 개념과 이유</a><li><a href="/posts/%ED%94%84%EB%A1%9C%EA%B7%B8%EB%9E%A8-%EC%8B%A4%ED%96%89%EA%B3%BC-%EB%A9%94%EB%AA%A8%EB%A6%AC-%ED%95%A0%EB%8B%B9/">왜 원시형 데이터는 스택에, 참조형 데이터는 힙에 저장할까?</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/js/">JS</a> <a class="post-tag" href="/tags/javascript/">Javascript</a> <a class="post-tag" href="/tags/graph/">graph</a> <a class="post-tag" href="/tags/problem-solving/">Problem Solving</a> <a class="post-tag" href="/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a> <a class="post-tag" href="/tags/const/">const</a> <a class="post-tag" href="/tags/let/">let</a> <a class="post-tag" href="/tags/ps/">ps</a> <a class="post-tag" href="/tags/var/">var</a> <a class="post-tag" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Leetcode-2619-Array-Prototype-Last/"><div class="card-body"> <em class="timeago small" data-ts="1685804400" > 2023-06-04 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Leetcode | 2619. Array Prototype Last, 2620. Counter</h3><div class="text-muted small"><p> 자바스크립트 easy 2문제를 풀었다. 2619. Array Prototype Last 자바스크립트 Array 객체의 프로토타입에 last 라는 새로운 메소드를 추가하는 것이 문제. last 함수는 배열의 마지막 값을 리턴한다. 빈 배열이면 -1. 간단하게는 삼항 연산자로 해결할 수 있지만, 나는 Nullish coalescing operato...</p></div></div></a></div><div class="card"> <a href="/posts/vue-useStore/"><div class="card-body"> <em class="timeago small" data-ts="1685286000" > 2023-05-29 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Vue | useStore()를 사용하는 이유</h3><div class="text-muted small"><p> Vue에서 store 접근하기 보통 프론트앱에서 데이터의 변경을 감지하고 추적하는 상태관리가 필요한 데이터들은 store에 보관하여 사용한다. store 객체를 생성하고 이를 vue app에 전역적으로 등록한다. 그러면 컴포넌트에서 해당 store에 접근하여 데이터를 get, mutation 등등의 작업을 할 수 있다. 보통은 store에 접근하는...</p></div></div></a></div><div class="card"> <a href="/posts/JS-%EB%B3%80%EC%88%98-%EC%9C%A0%ED%9A%A8%EB%B2%94%EC%9C%84/"><div class="card-body"> <em class="timeago small" data-ts="1676214000" > 2023-02-13 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>JS | scoping 유효범위</h3><div class="text-muted small"><p> 유효 범위 scoping 기본적으로 var 키워드로 선언된 변수는 함수 레벨 스코프이다. 자바스크립트에서는 함수 레벨 스코프 (function scoping)와 블록 레벨 스코프 (block scoping)로 나뉜다. 함수 레벨 스코프 : 변수에 접근할 수 있는 범위가 변수가 선언된 함수로 한정된다. 블록 레벨 스코프 : 변수에 접근할 수...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Vue2-Mixin-%EC%97%AC%EB%9F%AC-%EC%BB%B4%ED%8F%AC%EB%84%8C%ED%8A%B8%EC%97%90%EC%84%9C-%EC%9E%AC%EC%82%AC%EC%9A%A9%ED%95%A0-%EC%86%8D%EC%84%B1%EB%93%A4/" class="btn btn-outline-primary" prompt="Older"><p>Vue2 | Mixin 개념, 여러 컴포넌트에서 재사용하기</p></a> <a href="/posts/TID/" class="btn btn-outline-primary" prompt="Newer"><p>코어 자바스크립트 | 1. 데이터의 가변성과 불변성</p></a></div><script src="https://utteranc.es/client.js" repo="su-ram/su-ram.github.io" issue-term="url | pathname | title |" crossorigin="anonymous" async> </script> <script type="text/javascript"> $(function() { const origin = "https://utteranc.es"; const iframe = "iframe.utterances-frame"; const lightTheme = "github-light"; const darkTheme = "github-dark"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } addEventListener("message", (event) => { let theme; /* credit to <https://github.com/utterance/utterances/issues/170#issuecomment-594036347> */ if (event.origin === origin) { /* page initial */ theme = initTheme; } else if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); } else { return; } const message = { type: "set-theme", theme: theme }; const utterances = document.querySelector(iframe).contentWindow; utterances.postMessage(message, origin); }); }); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/su-ram">suram kim</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/js/">JS</a> <a class="post-tag" href="/tags/javascript/">Javascript</a> <a class="post-tag" href="/tags/graph/">graph</a> <a class="post-tag" href="/tags/problem-solving/">Problem Solving</a> <a class="post-tag" href="/tags/%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98/">알고리즘</a> <a class="post-tag" href="/tags/const/">const</a> <a class="post-tag" href="/tags/let/">let</a> <a class="post-tag" href="/tags/ps/">ps</a> <a class="post-tag" href="/tags/var/">var</a> <a class="post-tag" href="/tags/%EB%B0%B1%EC%A4%80/">백준</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
